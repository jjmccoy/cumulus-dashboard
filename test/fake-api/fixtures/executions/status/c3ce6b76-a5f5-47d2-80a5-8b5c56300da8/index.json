{"execution":{"executionArn":"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8","stateMachineArn":"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK","name":"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8","status":"SUCCEEDED","startDate":"2018-11-12T20:04:10.834Z","stopDate":"2018-11-12T20:04:24.479Z","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"workflow_start_time\":1542053050795},\"meta\":{\"workflow_name\":\"DiscoverAndQueuePdrs\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ\",\"createdAt\":1542033887280,\"name\":\"MOD09GQ\",\"duplicateHandling\":\"error\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\"},{\"bucket\":\"protected-2\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\"},{\"bucket\":\"public\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\"}],\"updatedAt\":1542035546760,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1542033886409,\"id\":\"s3_provider\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1542033886409,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"DiscoverPdrs\":{\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{},\"exception\":null}","output":"{\"cumulus_meta\":{\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"message_source\":\"sfn\",\"workflow_start_time\":1542053050795,\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"system_bucket\":\"cumulus-test-sandbox-internal\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"DiscoverAndQueuePdrs\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StartStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"StopStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"DiscoverPdrs\":{\"version\":\"19\",\"name\":\"test-source-integration-DiscoverPdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-DiscoverPdrs:DiscoverPdrs-c155ebecc4d03a9a0a3737b844122643e93d3887\"},\"QueuePdrs\":{\"version\":\"18\",\"name\":\"test-source-integration-QueuePdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueuePdrs:QueuePdrs-8e81d722bac219528d2be0ba8d8104a8cbb1bb04\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"],\"pdrs_queued\":1},\"exception\":\"None\",\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"DiscoverPdrs\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"}}}"},"executionHistory":{"events":[{"timestamp":"2018-11-12T20:04:10.834Z","type":"ExecutionStarted","id":1,"previousEventId":0,"input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"workflow_start_time\":1542053050795},\"meta\":{\"workflow_name\":\"DiscoverAndQueuePdrs\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ\",\"createdAt\":1542033887280,\"name\":\"MOD09GQ\",\"duplicateHandling\":\"error\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\"},{\"bucket\":\"protected-2\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\"},{\"bucket\":\"public\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\"}],\"updatedAt\":1542035546760,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1542033886409,\"id\":\"s3_provider\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1542033886409,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"DiscoverPdrs\":{\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{},\"exception\":null}","roleArn":"arn:aws:iam::596205514787:role/test-source-integration-steprole"},{"timestamp":"2018-11-12T20:04:10.865Z","type":"TaskStateEntered","id":2,"previousEventId":0,"name":"StartStatus","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"workflow_start_time\":1542053050795},\"meta\":{\"workflow_name\":\"DiscoverAndQueuePdrs\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ\",\"createdAt\":1542033887280,\"name\":\"MOD09GQ\",\"duplicateHandling\":\"error\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\"},{\"bucket\":\"protected-2\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\"},{\"bucket\":\"public\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\"}],\"updatedAt\":1542035546760,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1542033886409,\"id\":\"s3_provider\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1542033886409,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"DiscoverPdrs\":{\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{},\"exception\":null}"},{"timestamp":"2018-11-12T20:04:10.865Z","type":"LambdaFunctionScheduled","id":3,"previousEventId":2,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"workflow_start_time\":1542053050795},\"meta\":{\"workflow_name\":\"DiscoverAndQueuePdrs\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ\",\"createdAt\":1542033887280,\"name\":\"MOD09GQ\",\"duplicateHandling\":\"error\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\"},{\"bucket\":\"protected-2\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\"},{\"bucket\":\"public\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\"}],\"updatedAt\":1542035546760,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1542033886409,\"id\":\"s3_provider\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1542033886409,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"DiscoverPdrs\":{\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{},\"exception\":null}"},{"timestamp":"2018-11-12T20:04:10.931Z","type":"LambdaFunctionStarted","id":4,"previousEventId":3},{"timestamp":"2018-11-12T20:04:14.151Z","type":"LambdaFunctionSucceeded","id":5,"previousEventId":4,"output":"{\"cumulus_meta\":{\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"message_source\":\"sfn\",\"workflow_start_time\":1542053050795,\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"system_bucket\":\"cumulus-test-sandbox-internal\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"DiscoverAndQueuePdrs\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StartStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{},\"exception\":\"None\",\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"DiscoverPdrs\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"}}}"},{"timestamp":"2018-11-12T20:04:14.151Z","type":"TaskStateExited","id":6,"previousEventId":5,"name":"StartStatus","output":"{\"cumulus_meta\":{\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"message_source\":\"sfn\",\"workflow_start_time\":1542053050795,\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"system_bucket\":\"cumulus-test-sandbox-internal\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"DiscoverAndQueuePdrs\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StartStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{},\"exception\":\"None\",\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"DiscoverPdrs\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"}}}"},{"timestamp":"2018-11-12T20:04:14.160Z","type":"TaskStateEntered","id":7,"previousEventId":6,"name":"DiscoverPdrs","input":"{\"cumulus_meta\":{\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"message_source\":\"sfn\",\"workflow_start_time\":1542053050795,\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"system_bucket\":\"cumulus-test-sandbox-internal\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"DiscoverAndQueuePdrs\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StartStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{},\"exception\":\"None\",\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"DiscoverPdrs\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"}}}"},{"timestamp":"2018-11-12T20:04:14.160Z","type":"LambdaFunctionScheduled","id":8,"previousEventId":7,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-DiscoverPdrs:DiscoverPdrs-c155ebecc4d03a9a0a3737b844122643e93d3887","input":"{\"cumulus_meta\":{\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"message_source\":\"sfn\",\"workflow_start_time\":1542053050795,\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"system_bucket\":\"cumulus-test-sandbox-internal\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"DiscoverAndQueuePdrs\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StartStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{},\"exception\":\"None\",\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"DiscoverPdrs\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"}}}"},{"timestamp":"2018-11-12T20:04:14.177Z","type":"LambdaFunctionStarted","id":9,"previousEventId":8},{"timestamp":"2018-11-12T20:04:17.949Z","type":"LambdaFunctionSucceeded","id":10,"previousEventId":9,"output":"{\"cumulus_meta\":{\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"message_source\":\"sfn\",\"workflow_start_time\":1542053050795,\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"system_bucket\":\"cumulus-test-sandbox-internal\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"DiscoverAndQueuePdrs\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StartStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"DiscoverPdrs\":{\"version\":\"19\",\"name\":\"test-source-integration-DiscoverPdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-DiscoverPdrs:DiscoverPdrs-c155ebecc4d03a9a0a3737b844122643e93d3887\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"pdrs\":[{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600}]},\"exception\":\"None\",\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"DiscoverPdrs\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"}}}"},{"timestamp":"2018-11-12T20:04:17.949Z","type":"TaskStateExited","id":11,"previousEventId":10,"name":"DiscoverPdrs","output":"{\"cumulus_meta\":{\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"message_source\":\"sfn\",\"workflow_start_time\":1542053050795,\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"system_bucket\":\"cumulus-test-sandbox-internal\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"DiscoverAndQueuePdrs\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StartStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"DiscoverPdrs\":{\"version\":\"19\",\"name\":\"test-source-integration-DiscoverPdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-DiscoverPdrs:DiscoverPdrs-c155ebecc4d03a9a0a3737b844122643e93d3887\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"pdrs\":[{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600}]},\"exception\":\"None\",\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"DiscoverPdrs\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"}}}"},{"timestamp":"2018-11-12T20:04:17.960Z","type":"TaskStateEntered","id":12,"previousEventId":11,"name":"QueuePdrs","input":"{\"cumulus_meta\":{\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"message_source\":\"sfn\",\"workflow_start_time\":1542053050795,\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"system_bucket\":\"cumulus-test-sandbox-internal\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"DiscoverAndQueuePdrs\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StartStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"DiscoverPdrs\":{\"version\":\"19\",\"name\":\"test-source-integration-DiscoverPdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-DiscoverPdrs:DiscoverPdrs-c155ebecc4d03a9a0a3737b844122643e93d3887\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"pdrs\":[{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600}]},\"exception\":\"None\",\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"DiscoverPdrs\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"}}}"},{"timestamp":"2018-11-12T20:04:17.960Z","type":"LambdaFunctionScheduled","id":13,"previousEventId":12,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueuePdrs:QueuePdrs-8e81d722bac219528d2be0ba8d8104a8cbb1bb04","input":"{\"cumulus_meta\":{\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"message_source\":\"sfn\",\"workflow_start_time\":1542053050795,\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"system_bucket\":\"cumulus-test-sandbox-internal\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"DiscoverAndQueuePdrs\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StartStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"DiscoverPdrs\":{\"version\":\"19\",\"name\":\"test-source-integration-DiscoverPdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-DiscoverPdrs:DiscoverPdrs-c155ebecc4d03a9a0a3737b844122643e93d3887\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"pdrs\":[{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600}]},\"exception\":\"None\",\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"DiscoverPdrs\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"}}}"},{"timestamp":"2018-11-12T20:04:17.973Z","type":"LambdaFunctionStarted","id":14,"previousEventId":13},{"timestamp":"2018-11-12T20:04:21.893Z","type":"LambdaFunctionSucceeded","id":15,"previousEventId":14,"output":"{\"cumulus_meta\":{\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"message_source\":\"sfn\",\"workflow_start_time\":1542053050795,\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"system_bucket\":\"cumulus-test-sandbox-internal\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"DiscoverAndQueuePdrs\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StartStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"DiscoverPdrs\":{\"version\":\"19\",\"name\":\"test-source-integration-DiscoverPdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-DiscoverPdrs:DiscoverPdrs-c155ebecc4d03a9a0a3737b844122643e93d3887\"},\"QueuePdrs\":{\"version\":\"18\",\"name\":\"test-source-integration-QueuePdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueuePdrs:QueuePdrs-8e81d722bac219528d2be0ba8d8104a8cbb1bb04\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"],\"pdrs_queued\":1},\"exception\":\"None\",\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"DiscoverPdrs\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"}}}"},{"timestamp":"2018-11-12T20:04:21.893Z","type":"TaskStateExited","id":16,"previousEventId":15,"name":"QueuePdrs","output":"{\"cumulus_meta\":{\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"message_source\":\"sfn\",\"workflow_start_time\":1542053050795,\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"system_bucket\":\"cumulus-test-sandbox-internal\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"DiscoverAndQueuePdrs\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StartStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"DiscoverPdrs\":{\"version\":\"19\",\"name\":\"test-source-integration-DiscoverPdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-DiscoverPdrs:DiscoverPdrs-c155ebecc4d03a9a0a3737b844122643e93d3887\"},\"QueuePdrs\":{\"version\":\"18\",\"name\":\"test-source-integration-QueuePdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueuePdrs:QueuePdrs-8e81d722bac219528d2be0ba8d8104a8cbb1bb04\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"],\"pdrs_queued\":1},\"exception\":\"None\",\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"DiscoverPdrs\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"}}}"},{"timestamp":"2018-11-12T20:04:21.902Z","type":"TaskStateEntered","id":17,"previousEventId":16,"name":"StopStatus","input":"{\"cumulus_meta\":{\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"message_source\":\"sfn\",\"workflow_start_time\":1542053050795,\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"system_bucket\":\"cumulus-test-sandbox-internal\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"DiscoverAndQueuePdrs\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StartStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"DiscoverPdrs\":{\"version\":\"19\",\"name\":\"test-source-integration-DiscoverPdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-DiscoverPdrs:DiscoverPdrs-c155ebecc4d03a9a0a3737b844122643e93d3887\"},\"QueuePdrs\":{\"version\":\"18\",\"name\":\"test-source-integration-QueuePdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueuePdrs:QueuePdrs-8e81d722bac219528d2be0ba8d8104a8cbb1bb04\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"],\"pdrs_queued\":1},\"exception\":\"None\",\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"DiscoverPdrs\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"}}}"},{"timestamp":"2018-11-12T20:04:21.902Z","type":"LambdaFunctionScheduled","id":18,"previousEventId":17,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b","input":"{\"cumulus_meta\":{\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"message_source\":\"sfn\",\"workflow_start_time\":1542053050795,\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"system_bucket\":\"cumulus-test-sandbox-internal\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"DiscoverAndQueuePdrs\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StartStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"DiscoverPdrs\":{\"version\":\"19\",\"name\":\"test-source-integration-DiscoverPdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-DiscoverPdrs:DiscoverPdrs-c155ebecc4d03a9a0a3737b844122643e93d3887\"},\"QueuePdrs\":{\"version\":\"18\",\"name\":\"test-source-integration-QueuePdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueuePdrs:QueuePdrs-8e81d722bac219528d2be0ba8d8104a8cbb1bb04\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"],\"pdrs_queued\":1},\"exception\":\"None\",\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"DiscoverPdrs\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"}}}"},{"timestamp":"2018-11-12T20:04:21.918Z","type":"LambdaFunctionStarted","id":19,"previousEventId":18},{"timestamp":"2018-11-12T20:04:24.479Z","type":"LambdaFunctionSucceeded","id":20,"previousEventId":19,"output":"{\"cumulus_meta\":{\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"message_source\":\"sfn\",\"workflow_start_time\":1542053050795,\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"system_bucket\":\"cumulus-test-sandbox-internal\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"DiscoverAndQueuePdrs\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StartStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"StopStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"DiscoverPdrs\":{\"version\":\"19\",\"name\":\"test-source-integration-DiscoverPdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-DiscoverPdrs:DiscoverPdrs-c155ebecc4d03a9a0a3737b844122643e93d3887\"},\"QueuePdrs\":{\"version\":\"18\",\"name\":\"test-source-integration-QueuePdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueuePdrs:QueuePdrs-8e81d722bac219528d2be0ba8d8104a8cbb1bb04\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"],\"pdrs_queued\":1},\"exception\":\"None\",\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"DiscoverPdrs\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"}}}"},{"timestamp":"2018-11-12T20:04:24.479Z","type":"TaskStateExited","id":21,"previousEventId":20,"name":"StopStatus","output":"{\"cumulus_meta\":{\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"message_source\":\"sfn\",\"workflow_start_time\":1542053050795,\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"system_bucket\":\"cumulus-test-sandbox-internal\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"DiscoverAndQueuePdrs\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StartStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"StopStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"DiscoverPdrs\":{\"version\":\"19\",\"name\":\"test-source-integration-DiscoverPdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-DiscoverPdrs:DiscoverPdrs-c155ebecc4d03a9a0a3737b844122643e93d3887\"},\"QueuePdrs\":{\"version\":\"18\",\"name\":\"test-source-integration-QueuePdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueuePdrs:QueuePdrs-8e81d722bac219528d2be0ba8d8104a8cbb1bb04\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"],\"pdrs_queued\":1},\"exception\":\"None\",\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"DiscoverPdrs\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"}}}"},{"timestamp":"2018-11-12T20:04:24.479Z","type":"ExecutionSucceeded","id":22,"previousEventId":21,"output":"{\"cumulus_meta\":{\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK\",\"message_source\":\"sfn\",\"workflow_start_time\":1542053050795,\"execution_name\":\"c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\",\"system_bucket\":\"cumulus-test-sandbox-internal\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"DiscoverAndQueuePdrs\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StartStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"StopStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"DiscoverPdrs\":{\"version\":\"19\",\"name\":\"test-source-integration-DiscoverPdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-DiscoverPdrs:DiscoverPdrs-c155ebecc4d03a9a0a3737b844122643e93d3887\"},\"QueuePdrs\":{\"version\":\"18\",\"name\":\"test-source-integration-QueuePdrs\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueuePdrs:QueuePdrs-8e81d722bac219528d2be0ba8d8104a8cbb1bb04\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf\"],\"pdrs_queued\":1},\"exception\":\"None\",\"workflow_config\":{\"StartStatus\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"DiscoverPdrs\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"},\"QueuePdrs\":{\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"parsePdrMessageTemplateUri\":\"{{$.meta.templates.ParsePdr}}\",\"collection\":\"{{$.meta.collection}}\",\"provider\":\"{{$.meta.provider}}\"}}}"}]},"stateMachine":{"stateMachineArn":"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK","name":"TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK","status":"ACTIVE","definition":"{\"Comment\":\"Discovers new PDRs from a given provider\",\"StartAt\":\"StartStatus\",\"States\":{\"StartStatus\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\",\"Next\":\"DiscoverPdrs\"},\"DiscoverPdrs\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-DiscoverPdrs:DiscoverPdrs-c155ebecc4d03a9a0a3737b844122643e93d3887\",\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.exception\",\"Next\":\"StopStatus\"}],\"Next\":\"QueuePdrs\"},\"QueuePdrs\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueuePdrs:QueuePdrs-8e81d722bac219528d2be0ba8d8104a8cbb1bb04\",\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.exception\",\"Next\":\"StopStatus\"}],\"Next\":\"StopStatus\"},\"StopStatus\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\",\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"Next\":\"WorkflowFailed\"}],\"End\":true},\"WorkflowFailed\":{\"Type\":\"Fail\",\"Cause\":\"Workflow failed\"}}}\n","roleArn":"arn:aws:iam::596205514787:role/test-source-integration-steprole","creationDate":"2018-11-08T17:28:37.681Z"}}