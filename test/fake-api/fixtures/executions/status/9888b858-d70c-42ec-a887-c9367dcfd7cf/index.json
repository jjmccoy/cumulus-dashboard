{"execution":{"executionArn":"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ:9888b858-d70c-42ec-a887-c9367dcfd7cf","stateMachineArn":"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ","name":"9888b858-d70c-42ec-a887-c9367dcfd7cf","status":"SUCCEEDED","startDate":"2018-11-12T20:04:22.297Z","stopDate":"2018-11-12T20:05:39.856Z","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"workflow_start_time\":1542053062238,\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"workflow_name\":\"ParsePdr\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"ParsePdr\":{\"provider\":\"{{$.meta.provider}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\"},\"QueueGranules\":{\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\",\"stackName\":\"{{$.meta.stack}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\"},\"CheckStatus\":{},\"CheckAgainChoice\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WaitForSomeTime\":{},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600}},\"exception\":null}","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"StopStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":true,\"failed\":[],\"running\":[],\"completed\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000}},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},"executionHistory":{"events":[{"timestamp":"2018-11-12T20:04:22.297Z","type":"ExecutionStarted","id":1,"previousEventId":0,"input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"workflow_start_time\":1542053062238,\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"workflow_name\":\"ParsePdr\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"ParsePdr\":{\"provider\":\"{{$.meta.provider}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\"},\"QueueGranules\":{\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\",\"stackName\":\"{{$.meta.stack}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\"},\"CheckStatus\":{},\"CheckAgainChoice\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WaitForSomeTime\":{},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600}},\"exception\":null}","roleArn":"arn:aws:iam::596205514787:role/test-source-integration-steprole"},{"timestamp":"2018-11-12T20:04:22.332Z","type":"TaskStateEntered","id":2,"previousEventId":0,"name":"StatusReport","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"workflow_start_time\":1542053062238,\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"workflow_name\":\"ParsePdr\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"ParsePdr\":{\"provider\":\"{{$.meta.provider}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\"},\"QueueGranules\":{\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\",\"stackName\":\"{{$.meta.stack}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\"},\"CheckStatus\":{},\"CheckAgainChoice\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WaitForSomeTime\":{},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600}},\"exception\":null}"},{"timestamp":"2018-11-12T20:04:22.332Z","type":"LambdaFunctionScheduled","id":3,"previousEventId":2,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"workflow_start_time\":1542053062238,\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"workflow_name\":\"ParsePdr\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"ParsePdr\":{\"provider\":\"{{$.meta.provider}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\"},\"QueueGranules\":{\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\",\"stackName\":\"{{$.meta.stack}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\"},\"CheckStatus\":{},\"CheckAgainChoice\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WaitForSomeTime\":{},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600}},\"exception\":null}"},{"timestamp":"2018-11-12T20:04:22.400Z","type":"LambdaFunctionStarted","id":4,"previousEventId":3},{"timestamp":"2018-11-12T20:04:25.417Z","type":"LambdaFunctionSucceeded","id":5,"previousEventId":4,"output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000}},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:25.417Z","type":"TaskStateExited","id":6,"previousEventId":5,"name":"StatusReport","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000}},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:25.434Z","type":"TaskStateEntered","id":7,"previousEventId":6,"name":"ParsePdr","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000}},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:25.434Z","type":"LambdaFunctionScheduled","id":8,"previousEventId":7,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000}},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:25.447Z","type":"LambdaFunctionStarted","id":9,"previousEventId":8},{"timestamp":"2018-11-12T20:04:29.265Z","type":"LambdaFunctionSucceeded","id":10,"previousEventId":9,"output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"filesCount\":2,\"totalSize\":17909733,\"granulesCount\":1,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"granules\":[{\"dataType\":\"MOD09GQ\",\"files\":[{\"path\":\"cumulus-test-data/pdrs\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\"},{\"path\":\"cumulus-test-data/pdrs\",\"fileSize\":44118,\"name\":\"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\"}],\"version\":\"006\",\"granuleSize\":17909733,\"granuleId\":\"MOD09GQ.A2016358.h13v04.006.2016360104606\"}]},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:29.265Z","type":"TaskStateExited","id":11,"previousEventId":10,"name":"ParsePdr","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"filesCount\":2,\"totalSize\":17909733,\"granulesCount\":1,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"granules\":[{\"dataType\":\"MOD09GQ\",\"files\":[{\"path\":\"cumulus-test-data/pdrs\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\"},{\"path\":\"cumulus-test-data/pdrs\",\"fileSize\":44118,\"name\":\"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\"}],\"version\":\"006\",\"granuleSize\":17909733,\"granuleId\":\"MOD09GQ.A2016358.h13v04.006.2016360104606\"}]},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:29.282Z","type":"TaskStateEntered","id":12,"previousEventId":11,"name":"QueueGranules","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"filesCount\":2,\"totalSize\":17909733,\"granulesCount\":1,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"granules\":[{\"dataType\":\"MOD09GQ\",\"files\":[{\"path\":\"cumulus-test-data/pdrs\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\"},{\"path\":\"cumulus-test-data/pdrs\",\"fileSize\":44118,\"name\":\"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\"}],\"version\":\"006\",\"granuleSize\":17909733,\"granuleId\":\"MOD09GQ.A2016358.h13v04.006.2016360104606\"}]},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:29.282Z","type":"LambdaFunctionScheduled","id":13,"previousEventId":12,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"filesCount\":2,\"totalSize\":17909733,\"granulesCount\":1,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"granules\":[{\"dataType\":\"MOD09GQ\",\"files\":[{\"path\":\"cumulus-test-data/pdrs\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf\"},{\"path\":\"cumulus-test-data/pdrs\",\"fileSize\":44118,\"name\":\"MOD09GQ.A2016358.h13v04.006.2016360104606.hdf.met\"}],\"version\":\"006\",\"granuleSize\":17909733,\"granuleId\":\"MOD09GQ.A2016358.h13v04.006.2016360104606\"}]},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:29.309Z","type":"LambdaFunctionStarted","id":14,"previousEventId":13},{"timestamp":"2018-11-12T20:04:32.497Z","type":"LambdaFunctionSucceeded","id":15,"previousEventId":14,"output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000}},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:32.497Z","type":"TaskStateExited","id":16,"previousEventId":15,"name":"QueueGranules","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000}},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:32.515Z","type":"TaskStateEntered","id":17,"previousEventId":16,"name":"CheckStatus","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000}},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:32.515Z","type":"LambdaFunctionScheduled","id":18,"previousEventId":17,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000}},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:32.544Z","type":"LambdaFunctionStarted","id":19,"previousEventId":18},{"timestamp":"2018-11-12T20:04:35.410Z","type":"LambdaFunctionSucceeded","id":20,"previousEventId":19,"output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":1,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:35.410Z","type":"TaskStateExited","id":21,"previousEventId":20,"name":"CheckStatus","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":1,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:35.422Z","type":"ChoiceStateEntered","id":22,"previousEventId":21,"name":"CheckAgainChoice","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":1,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:35.422Z","type":"ChoiceStateExited","id":23,"previousEventId":22,"name":"CheckAgainChoice","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":1,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:35.523Z","type":"TaskStateEntered","id":24,"previousEventId":23,"name":"PdrStatusReport","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":1,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:35.523Z","type":"LambdaFunctionScheduled","id":25,"previousEventId":24,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":1,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:35.540Z","type":"LambdaFunctionStarted","id":26,"previousEventId":25},{"timestamp":"2018-11-12T20:04:38.051Z","type":"LambdaFunctionSucceeded","id":27,"previousEventId":26,"output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"},\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"PdrStatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":1,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:38.051Z","type":"TaskStateExited","id":28,"previousEventId":27,"name":"PdrStatusReport","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":1,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:38.071Z","type":"WaitStateEntered","id":29,"previousEventId":28,"name":"WaitForSomeTime","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":1,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:48.073Z","type":"WaitStateExited","id":30,"previousEventId":29,"name":"WaitForSomeTime","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":1,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:48.087Z","type":"TaskStateEntered","id":31,"previousEventId":30,"name":"CheckStatus","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":1,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:48.087Z","type":"LambdaFunctionScheduled","id":32,"previousEventId":31,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":1,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:48.121Z","type":"LambdaFunctionStarted","id":33,"previousEventId":32},{"timestamp":"2018-11-12T20:04:50.397Z","type":"LambdaFunctionSucceeded","id":34,"previousEventId":33,"output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":2,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:50.397Z","type":"TaskStateExited","id":35,"previousEventId":34,"name":"CheckStatus","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":2,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:50.415Z","type":"ChoiceStateEntered","id":36,"previousEventId":35,"name":"CheckAgainChoice","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":2,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:50.415Z","type":"ChoiceStateExited","id":37,"previousEventId":36,"name":"CheckAgainChoice","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":2,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:50.517Z","type":"TaskStateEntered","id":38,"previousEventId":37,"name":"PdrStatusReport","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":2,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:50.517Z","type":"LambdaFunctionScheduled","id":39,"previousEventId":38,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":2,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:50.556Z","type":"LambdaFunctionStarted","id":40,"previousEventId":39},{"timestamp":"2018-11-12T20:04:53.238Z","type":"LambdaFunctionSucceeded","id":41,"previousEventId":40,"output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"},\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"PdrStatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":2,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:53.238Z","type":"TaskStateExited","id":42,"previousEventId":41,"name":"PdrStatusReport","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":2,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:04:53.264Z","type":"WaitStateEntered","id":43,"previousEventId":42,"name":"WaitForSomeTime","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":2,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:03.266Z","type":"WaitStateExited","id":44,"previousEventId":43,"name":"WaitForSomeTime","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":2,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:03.279Z","type":"TaskStateEntered","id":45,"previousEventId":44,"name":"CheckStatus","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":2,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:03.279Z","type":"LambdaFunctionScheduled","id":46,"previousEventId":45,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":2,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:03.313Z","type":"LambdaFunctionStarted","id":47,"previousEventId":46},{"timestamp":"2018-11-12T20:05:05.853Z","type":"LambdaFunctionSucceeded","id":48,"previousEventId":47,"output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":3,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:05.853Z","type":"TaskStateExited","id":49,"previousEventId":48,"name":"CheckStatus","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":3,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:05.867Z","type":"ChoiceStateEntered","id":50,"previousEventId":49,"name":"CheckAgainChoice","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":3,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:05.867Z","type":"ChoiceStateExited","id":51,"previousEventId":50,"name":"CheckAgainChoice","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":3,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:05.968Z","type":"TaskStateEntered","id":52,"previousEventId":51,"name":"PdrStatusReport","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":3,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:05.968Z","type":"LambdaFunctionScheduled","id":53,"previousEventId":52,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":3,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:06.015Z","type":"LambdaFunctionStarted","id":54,"previousEventId":53},{"timestamp":"2018-11-12T20:05:08.698Z","type":"LambdaFunctionSucceeded","id":55,"previousEventId":54,"output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"},\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"PdrStatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":3,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:08.698Z","type":"TaskStateExited","id":56,"previousEventId":55,"name":"PdrStatusReport","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":3,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:08.717Z","type":"WaitStateEntered","id":57,"previousEventId":56,"name":"WaitForSomeTime","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":3,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:18.720Z","type":"WaitStateExited","id":58,"previousEventId":57,"name":"WaitForSomeTime","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":3,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:18.739Z","type":"TaskStateEntered","id":59,"previousEventId":58,"name":"CheckStatus","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":3,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:18.739Z","type":"LambdaFunctionScheduled","id":60,"previousEventId":59,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":3,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:18.770Z","type":"LambdaFunctionStarted","id":61,"previousEventId":60},{"timestamp":"2018-11-12T20:05:21.280Z","type":"LambdaFunctionSucceeded","id":62,"previousEventId":61,"output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":4,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:21.280Z","type":"TaskStateExited","id":63,"previousEventId":62,"name":"CheckStatus","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":4,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:21.299Z","type":"ChoiceStateEntered","id":64,"previousEventId":63,"name":"CheckAgainChoice","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":4,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:21.299Z","type":"ChoiceStateExited","id":65,"previousEventId":64,"name":"CheckAgainChoice","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":4,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:21.401Z","type":"TaskStateEntered","id":66,"previousEventId":65,"name":"PdrStatusReport","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":4,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:21.401Z","type":"LambdaFunctionScheduled","id":67,"previousEventId":66,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":4,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:21.461Z","type":"LambdaFunctionStarted","id":68,"previousEventId":67},{"timestamp":"2018-11-12T20:05:24.117Z","type":"LambdaFunctionSucceeded","id":69,"previousEventId":68,"output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"},\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"PdrStatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":4,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:24.117Z","type":"TaskStateExited","id":70,"previousEventId":69,"name":"PdrStatusReport","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":4,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:24.141Z","type":"WaitStateEntered","id":71,"previousEventId":70,"name":"WaitForSomeTime","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":4,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:34.143Z","type":"WaitStateExited","id":72,"previousEventId":71,"name":"WaitForSomeTime","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":4,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:34.169Z","type":"TaskStateEntered","id":73,"previousEventId":72,"name":"CheckStatus","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":4,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:34.169Z","type":"LambdaFunctionScheduled","id":74,"previousEventId":73,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":false,\"completed\":[],\"counter\":4,\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000},\"failed\":[],\"running\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"limit\":30},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:34.199Z","type":"LambdaFunctionStarted","id":75,"previousEventId":74},{"timestamp":"2018-11-12T20:05:36.597Z","type":"LambdaFunctionSucceeded","id":76,"previousEventId":75,"output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":true,\"failed\":[],\"running\":[],\"completed\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600}},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:36.597Z","type":"TaskStateExited","id":77,"previousEventId":76,"name":"CheckStatus","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":true,\"failed\":[],\"running\":[],\"completed\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600}},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:36.619Z","type":"ChoiceStateEntered","id":78,"previousEventId":77,"name":"CheckAgainChoice","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":true,\"failed\":[],\"running\":[],\"completed\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600}},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:36.619Z","type":"ChoiceStateExited","id":79,"previousEventId":78,"name":"CheckAgainChoice","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":true,\"failed\":[],\"running\":[],\"completed\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600}},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:36.720Z","type":"TaskStateEntered","id":80,"previousEventId":79,"name":"StopStatus","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":true,\"failed\":[],\"running\":[],\"completed\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600}},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:36.720Z","type":"LambdaFunctionScheduled","id":81,"previousEventId":80,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"workflow_name\":\"ParsePdr\",\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"dataType\":\"MOD09GQ\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":true,\"failed\":[],\"running\":[],\"completed\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"time\":1538673078000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":600}},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:36.758Z","type":"LambdaFunctionStarted","id":82,"previousEventId":81},{"timestamp":"2018-11-12T20:05:39.856Z","type":"LambdaFunctionSucceeded","id":83,"previousEventId":82,"output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"StopStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":true,\"failed\":[],\"running\":[],\"completed\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000}},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:39.856Z","type":"TaskStateExited","id":84,"previousEventId":83,"name":"StopStatus","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"StopStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":true,\"failed\":[],\"running\":[],\"completed\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000}},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"},{"timestamp":"2018-11-12T20:05:39.856Z","type":"ExecutionSucceeded","id":85,"previousEventId":84,"output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"execution_name\":\"9888b858-d70c-42ec-a887-c9367dcfd7cf\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ\",\"workflow_start_time\":1542053062238,\"system_bucket\":\"cumulus-test-sandbox-internal\",\"parentExecutionArn\":\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationDiscoverAndQueuePdrsStateMachine-T4MDdDs9ADnK:c3ce6b76-a5f5-47d2-80a5-8b5c56300da8\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"ParsePdr\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"process\":\"modis\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542035546760,\"duplicateHandling\":\"error\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542033887280},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"ParsePdr\":{\"version\":\"19\",\"name\":\"test-source-integration-ParsePdr\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\"},\"StatusReport\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"StopStatus\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"},\"CheckStatus\":{\"version\":\"19\",\"name\":\"test-source-integration-PdrStatusCheck\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\"},\"QueueGranules\":{\"version\":\"19\",\"name\":\"test-source-integration-QueueGranules\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542033886409,\"id\":\"s3_provider\",\"createdAt\":1542033886409},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"isFinished\":true,\"failed\":[],\"running\":[],\"completed\":[\"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:50eaad71-bba8-4376-83d7-bb9cc1309b92\"],\"pdr\":{\"path\":\"cumulus-test-data/pdrs\",\"size\":600,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1538673078000}},\"exception\":\"None\",\"workflow_config\":{\"ParsePdr\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stack\":\"{{$.meta.stack}}\",\"provider\":\"{{$.meta.provider}}\"},\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"WaitForSomeTime\":{},\"WorkflowFailed\":{},\"PdrStatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"StatusReport\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"CheckAgainChoice\":{},\"QueueGranules\":{\"stackName\":\"{{$.meta.stack}}\",\"queueUrl\":\"{{$.meta.queues.startSF}}\",\"granuleIngestMessageTemplateUri\":\"{{$.meta.templates.IngestGranule}}\",\"provider\":\"{{$.meta.provider}}\",\"internalBucket\":\"{{$.meta.buckets.internal.name}}\"},\"CheckStatus\":{}}}"}]},"stateMachine":{"stateMachineArn":"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ","name":"TestSourceIntegrationParsePdrStateMachine-JVlCKfoXElDQ","status":"ACTIVE","definition":"{\"Comment\":\"Parse a given PDR\",\"StartAt\":\"StatusReport\",\"States\":{\"StatusReport\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\",\"Next\":\"ParsePdr\"},\"ParsePdr\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-ParsePdr:ParsePdr-2979f1f71736621607b0d6ccc9875dce4fdcccab\",\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.exception\",\"Next\":\"StopStatus\"}],\"Next\":\"QueueGranules\"},\"QueueGranules\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-QueueGranules:QueueGranules-5f5de321741f77e2d7f89f41f16498f02ce111cd\",\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.exception\",\"Next\":\"StopStatus\"}],\"Next\":\"CheckStatus\"},\"CheckStatus\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-PdrStatusCheck:PdrStatusCheck-870b3ba8ae46bd75407798ef59cc1e459d363312\",\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.exception\",\"Next\":\"StopStatus\"}],\"Next\":\"CheckAgainChoice\"},\"CheckAgainChoice\":{\"Type\":\"Choice\",\"Choices\":[{\"Variable\":\"$.payload.isFinished\",\"BooleanEquals\":false,\"Next\":\"PdrStatusReport\"},{\"Variable\":\"$.payload.isFinished\",\"BooleanEquals\":true,\"Next\":\"StopStatus\"}],\"Default\":\"StopStatus\"},\"PdrStatusReport\":{\"ResultPath\":null,\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\",\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.exception\",\"Next\":\"StopStatus\"}],\"Next\":\"WaitForSomeTime\"},\"WaitForSomeTime\":{\"Type\":\"Wait\",\"Seconds\":10,\"Next\":\"CheckStatus\"},\"StopStatus\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\",\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"Next\":\"WorkflowFailed\"}],\"End\":true},\"WorkflowFailed\":{\"Type\":\"Fail\",\"Cause\":\"Workflow failed\"}}}\n","roleArn":"arn:aws:iam::596205514787:role/test-source-integration-steprole","creationDate":"2018-11-08T17:28:37.094Z"}}