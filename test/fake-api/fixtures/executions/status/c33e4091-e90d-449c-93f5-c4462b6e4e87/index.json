{"execution":{"executionArn":"arn:aws:states:us-east-1:596205514787:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:c33e4091-e90d-449c-93f5-c4462b6e4e87","stateMachineArn":"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf","name":"c33e4091-e90d-449c-93f5-c4462b6e4e87","status":"FAILED","startDate":"2018-11-13T15:43:15.052Z","stopDate":"2018-11-13T15:43:43.330Z","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\",\"execution_name\":\"c33e4091-e90d-449c-93f5-c4462b6e4e87\",\"workflow_start_time\":1542123794842},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"createdAt\":1542123793936,\"name\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\"},{\"bucket\":\"protected-2\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\"},{\"bucket\":\"public\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\"}],\"updatedAt\":1542123793936,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1542123793586,\"id\":\"s3_provider_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1542123793586,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"Report\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"VpcOrNot\":{},\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"SyncGranuleNoVpc\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"input_granules\":\"{{$.meta.input_granules}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"version\":\"006\",\"files\":[{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf.met\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":null}"},"executionHistory":{"events":[{"timestamp":"2018-11-13T15:43:15.052Z","type":"ExecutionStarted","id":1,"previousEventId":0,"input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\",\"execution_name\":\"c33e4091-e90d-449c-93f5-c4462b6e4e87\",\"workflow_start_time\":1542123794842},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"createdAt\":1542123793936,\"name\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\"},{\"bucket\":\"protected-2\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\"},{\"bucket\":\"public\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\"}],\"updatedAt\":1542123793936,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1542123793586,\"id\":\"s3_provider_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1542123793586,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"Report\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"VpcOrNot\":{},\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"SyncGranuleNoVpc\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"input_granules\":\"{{$.meta.input_granules}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"version\":\"006\",\"files\":[{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf.met\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":null}","roleArn":"arn:aws:iam::596205514787:role/test-source-integration-steprole"},{"timestamp":"2018-11-13T15:43:15.082Z","type":"TaskStateEntered","id":2,"previousEventId":0,"name":"Report","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\",\"execution_name\":\"c33e4091-e90d-449c-93f5-c4462b6e4e87\",\"workflow_start_time\":1542123794842},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"createdAt\":1542123793936,\"name\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\"},{\"bucket\":\"protected-2\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\"},{\"bucket\":\"public\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\"}],\"updatedAt\":1542123793936,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1542123793586,\"id\":\"s3_provider_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1542123793586,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"Report\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"VpcOrNot\":{},\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"SyncGranuleNoVpc\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"input_granules\":\"{{$.meta.input_granules}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"version\":\"006\",\"files\":[{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf.met\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":null}"},{"timestamp":"2018-11-13T15:43:15.082Z","type":"LambdaFunctionScheduled","id":3,"previousEventId":2,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\",\"execution_name\":\"c33e4091-e90d-449c-93f5-c4462b6e4e87\",\"workflow_start_time\":1542123794842},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"createdAt\":1542123793936,\"name\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\"},{\"bucket\":\"protected-2\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\"},{\"bucket\":\"public\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\"}],\"updatedAt\":1542123793936,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1542123793586,\"id\":\"s3_provider_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1542123793586,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"Report\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"VpcOrNot\":{},\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"SyncGranuleNoVpc\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"input_granules\":\"{{$.meta.input_granules}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"version\":\"006\",\"files\":[{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf.met\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":null}"},{"timestamp":"2018-11-13T15:43:15.136Z","type":"LambdaFunctionStarted","id":4,"previousEventId":3},{"timestamp":"2018-11-13T15:43:17.969Z","type":"LambdaFunctionSucceeded","id":5,"previousEventId":4,"output":"{\"cumulus_meta\":{\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\",\"message_source\":\"sfn\",\"workflow_start_time\":1542123794842,\"execution_name\":\"c33e4091-e90d-449c-93f5-c4462b6e4e87\",\"system_bucket\":\"cumulus-test-sandbox-internal\"},\"meta\":{\"templates\":{\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\"},\"workflow_name\":\"IngestGranule\",\"queues\":{\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\"},\"collection\":{\"files\":[{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"bucket\":\"protected\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"bucket\":\"private\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"bucket\":\"protected-2\"},{\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"bucket\":\"public\"}],\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"name\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"process\":\"modis\",\"provider_path\":\"cumulus-test-data/pdrs\",\"version\":\"006\",\"updatedAt\":1542123793936,\"duplicateHandling\":\"replace\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"createdAt\":1542123793936},\"stack\":\"test-source-integration\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"workflow_tasks\":{\"Report\":{\"version\":\"18\",\"name\":\"test-source-integration-SfSnsReport\",\"arn\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\"}},\"provider\":{\"protocol\":\"s3\",\"globalConnectionLimit\":10,\"host\":\"cumulus-test-sandbox-internal\",\"updatedAt\":1542123793586,\"id\":\"s3_provider_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"createdAt\":1542123793586},\"buckets\":{\"shared-2\":{\"type\":\"shared\",\"name\":\"rvl-internal\"},\"private\":{\"type\":\"private\",\"name\":\"cumulus-test-sandbox-private\"},\"protected-2\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected-2\"},\"protected\":{\"type\":\"protected\",\"name\":\"cumulus-test-sandbox-protected\"},\"internal\":{\"type\":\"internal\",\"name\":\"cumulus-test-sandbox-internal\"},\"shared\":{\"type\":\"shared\",\"name\":\"cumulus-data-shared\"},\"public\":{\"type\":\"public\",\"name\":\"test-source-integration-public\"}},\"distribution_endpoint\":\"https://example.com/\",\"cmr\":{\"username\":\"cmruser\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\",\"clientId\":\"CUMULUS\",\"provider\":\"CUMULUS\"}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"version\":\"006\",\"files\":[{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf.met\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"time\":1520873050000,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"size\":596}},\"exception\":\"None\",\"workflow_config\":{\"StopStatus\":{\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"sfnEnd\":true,\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"},\"stack\":\"{{$.meta.stack}}\"},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"WorkflowFailed\":{},\"SyncGranuleNoVpc\":{\"buckets\":\"{{$.meta.buckets}}\",\"pdr\":\"{{$.meta.pdr}}\",\"collection\":\"{{$.meta.collection}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]},\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"provider\":\"{{$.meta.provider}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"stack\":\"{{$.meta.stack}}\"},\"ChooseProcess\":{},\"MoveGranuleStep\":{\"buckets\":\"{{$.meta.buckets}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"input_granules\":\"{{$.meta.input_granules}}\"},\"Report\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"VpcOrNot\":{},\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"pdr\":\"{{$.meta.pdr}}\",\"collection\":\"{{$.meta.collection}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]},\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"provider\":\"{{$.meta.provider}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"stack\":\"{{$.meta.stack}}\"}}}"},{"timestamp":"2018-11-13T15:43:17.969Z","type":"TaskStateExited","id":6,"previousEventId":5,"name":"Report","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\",\"execution_name\":\"c33e4091-e90d-449c-93f5-c4462b6e4e87\",\"workflow_start_time\":1542123794842},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"createdAt\":1542123793936,\"name\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\"},{\"bucket\":\"protected-2\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\"},{\"bucket\":\"public\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\"}],\"updatedAt\":1542123793936,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1542123793586,\"id\":\"s3_provider_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1542123793586,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"Report\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"VpcOrNot\":{},\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"SyncGranuleNoVpc\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"input_granules\":\"{{$.meta.input_granules}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"version\":\"006\",\"files\":[{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf.met\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":null}"},{"timestamp":"2018-11-13T15:43:17.978Z","type":"ChoiceStateEntered","id":7,"previousEventId":6,"name":"VpcOrNot","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\",\"execution_name\":\"c33e4091-e90d-449c-93f5-c4462b6e4e87\",\"workflow_start_time\":1542123794842},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"createdAt\":1542123793936,\"name\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\"},{\"bucket\":\"protected-2\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\"},{\"bucket\":\"public\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\"}],\"updatedAt\":1542123793936,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1542123793586,\"id\":\"s3_provider_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1542123793586,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"Report\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"VpcOrNot\":{},\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"SyncGranuleNoVpc\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"input_granules\":\"{{$.meta.input_granules}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"version\":\"006\",\"files\":[{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf.met\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":null}"},{"timestamp":"2018-11-13T15:43:17.978Z","type":"ChoiceStateExited","id":8,"previousEventId":7,"name":"VpcOrNot","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\",\"execution_name\":\"c33e4091-e90d-449c-93f5-c4462b6e4e87\",\"workflow_start_time\":1542123794842},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"createdAt\":1542123793936,\"name\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\"},{\"bucket\":\"protected-2\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\"},{\"bucket\":\"public\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\"}],\"updatedAt\":1542123793936,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1542123793586,\"id\":\"s3_provider_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1542123793586,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"Report\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"VpcOrNot\":{},\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"SyncGranuleNoVpc\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"input_granules\":\"{{$.meta.input_granules}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"version\":\"006\",\"files\":[{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf.met\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":null}"},{"timestamp":"2018-11-13T15:43:18.078Z","type":"TaskStateEntered","id":9,"previousEventId":8,"name":"SyncGranuleNoVpc","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\",\"execution_name\":\"c33e4091-e90d-449c-93f5-c4462b6e4e87\",\"workflow_start_time\":1542123794842},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"createdAt\":1542123793936,\"name\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\"},{\"bucket\":\"protected-2\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\"},{\"bucket\":\"public\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\"}],\"updatedAt\":1542123793936,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1542123793586,\"id\":\"s3_provider_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1542123793586,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"Report\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"VpcOrNot\":{},\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"SyncGranuleNoVpc\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"input_granules\":\"{{$.meta.input_granules}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"version\":\"006\",\"files\":[{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf.met\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":null}"},{"timestamp":"2018-11-13T15:43:18.078Z","type":"LambdaFunctionScheduled","id":10,"previousEventId":9,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\",\"execution_name\":\"c33e4091-e90d-449c-93f5-c4462b6e4e87\",\"workflow_start_time\":1542123794842},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"createdAt\":1542123793936,\"name\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\"},{\"bucket\":\"protected-2\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\"},{\"bucket\":\"public\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\"}],\"updatedAt\":1542123793936,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1542123793586,\"id\":\"s3_provider_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1542123793586,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"Report\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"VpcOrNot\":{},\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"SyncGranuleNoVpc\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"input_granules\":\"{{$.meta.input_granules}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"version\":\"006\",\"files\":[{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf.met\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":null}"},{"timestamp":"2018-11-13T15:43:18.094Z","type":"LambdaFunctionStarted","id":11,"previousEventId":10},{"timestamp":"2018-11-13T15:43:21.320Z","type":"LambdaFunctionFailed","id":12,"previousEventId":11,"error":"FileNotFound","cause":"{\"errorMessage\":\"Source file not found s3://cumulus-test-sandbox-internal/non-existent-path/non-existent-file\",\"errorType\":\"FileNotFound\",\"stackTrace\":[\"S3Granule.sync (/var/task/index.js:142314:13)\",\"<anonymous>\",\"process._tickDomainCallback (internal/process/next_tick.js:228:7)\"]}"},{"timestamp":"2018-11-13T15:43:23.320Z","type":"LambdaFunctionScheduled","id":13,"previousEventId":12,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\",\"execution_name\":\"c33e4091-e90d-449c-93f5-c4462b6e4e87\",\"workflow_start_time\":1542123794842},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"createdAt\":1542123793936,\"name\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\"},{\"bucket\":\"protected-2\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\"},{\"bucket\":\"public\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\"}],\"updatedAt\":1542123793936,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1542123793586,\"id\":\"s3_provider_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1542123793586,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"Report\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"VpcOrNot\":{},\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"SyncGranuleNoVpc\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"input_granules\":\"{{$.meta.input_granules}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"version\":\"006\",\"files\":[{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf.met\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":null}"},{"timestamp":"2018-11-13T15:43:23.333Z","type":"LambdaFunctionStarted","id":14,"previousEventId":13},{"timestamp":"2018-11-13T15:43:25.336Z","type":"LambdaFunctionFailed","id":15,"previousEventId":14,"error":"FileNotFound","cause":"{\"errorMessage\":\"Source file not found s3://cumulus-test-sandbox-internal/non-existent-path/non-existent-file\",\"errorType\":\"FileNotFound\",\"stackTrace\":[\"S3Granule.sync (/var/task/index.js:142314:13)\",\"<anonymous>\",\"process._tickDomainCallback (internal/process/next_tick.js:228:7)\"]}"},{"timestamp":"2018-11-13T15:43:29.336Z","type":"LambdaFunctionScheduled","id":16,"previousEventId":15,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\",\"execution_name\":\"c33e4091-e90d-449c-93f5-c4462b6e4e87\",\"workflow_start_time\":1542123794842},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"createdAt\":1542123793936,\"name\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\"},{\"bucket\":\"protected-2\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\"},{\"bucket\":\"public\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\"}],\"updatedAt\":1542123793936,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1542123793586,\"id\":\"s3_provider_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1542123793586,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"Report\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"VpcOrNot\":{},\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"SyncGranuleNoVpc\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"input_granules\":\"{{$.meta.input_granules}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"version\":\"006\",\"files\":[{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf.met\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":null}"},{"timestamp":"2018-11-13T15:43:29.351Z","type":"LambdaFunctionStarted","id":17,"previousEventId":16},{"timestamp":"2018-11-13T15:43:31.493Z","type":"LambdaFunctionFailed","id":18,"previousEventId":17,"error":"FileNotFound","cause":"{\"errorMessage\":\"Source file not found s3://cumulus-test-sandbox-internal/non-existent-path/non-existent-file\",\"errorType\":\"FileNotFound\",\"stackTrace\":[\"S3Granule.sync (/var/task/index.js:142314:13)\",\"<anonymous>\",\"process._tickDomainCallback (internal/process/next_tick.js:228:7)\"]}"},{"timestamp":"2018-11-13T15:43:39.494Z","type":"LambdaFunctionScheduled","id":19,"previousEventId":18,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-71bf2cfeda020e9409a3f67293d1f7b8f42e0546","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\",\"execution_name\":\"c33e4091-e90d-449c-93f5-c4462b6e4e87\",\"workflow_start_time\":1542123794842},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"createdAt\":1542123793936,\"name\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\"},{\"bucket\":\"protected-2\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\"},{\"bucket\":\"public\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\"}],\"updatedAt\":1542123793936,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1542123793586,\"id\":\"s3_provider_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1542123793586,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"Report\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"VpcOrNot\":{},\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"SyncGranuleNoVpc\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"input_granules\":\"{{$.meta.input_granules}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"version\":\"006\",\"files\":[{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf.met\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":null}"},{"timestamp":"2018-11-13T15:43:39.516Z","type":"LambdaFunctionStarted","id":20,"previousEventId":19},{"timestamp":"2018-11-13T15:43:41.557Z","type":"LambdaFunctionFailed","id":21,"previousEventId":20,"error":"FileNotFound","cause":"{\"errorMessage\":\"Source file not found s3://cumulus-test-sandbox-internal/non-existent-path/non-existent-file\",\"errorType\":\"FileNotFound\",\"stackTrace\":[\"S3Granule.sync (/var/task/index.js:142314:13)\",\"<anonymous>\",\"process._tickDomainCallback (internal/process/next_tick.js:228:7)\"]}"},{"timestamp":"2018-11-13T15:43:41.557Z","type":"TaskStateExited","id":22,"previousEventId":21,"name":"SyncGranuleNoVpc","output":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\",\"execution_name\":\"c33e4091-e90d-449c-93f5-c4462b6e4e87\",\"workflow_start_time\":1542123794842},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"createdAt\":1542123793936,\"name\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\"},{\"bucket\":\"protected-2\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\"},{\"bucket\":\"public\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\"}],\"updatedAt\":1542123793936,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1542123793586,\"id\":\"s3_provider_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1542123793586,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"Report\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"VpcOrNot\":{},\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"SyncGranuleNoVpc\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"input_granules\":\"{{$.meta.input_granules}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"version\":\"006\",\"files\":[{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf.met\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":{\"Error\":\"FileNotFound\",\"Cause\":\"{\\\"errorMessage\\\":\\\"Source file not found s3://cumulus-test-sandbox-internal/non-existent-path/non-existent-file\\\",\\\"errorType\\\":\\\"FileNotFound\\\",\\\"stackTrace\\\":[\\\"S3Granule.sync (/var/task/index.js:142314:13)\\\",\\\"<anonymous>\\\",\\\"process._tickDomainCallback (internal/process/next_tick.js:228:7)\\\"]}\"}}"},{"timestamp":"2018-11-13T15:43:41.568Z","type":"TaskStateEntered","id":23,"previousEventId":22,"name":"StopStatus","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\",\"execution_name\":\"c33e4091-e90d-449c-93f5-c4462b6e4e87\",\"workflow_start_time\":1542123794842},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"createdAt\":1542123793936,\"name\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\"},{\"bucket\":\"protected-2\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\"},{\"bucket\":\"public\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\"}],\"updatedAt\":1542123793936,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1542123793586,\"id\":\"s3_provider_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1542123793586,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"Report\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"VpcOrNot\":{},\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"SyncGranuleNoVpc\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"input_granules\":\"{{$.meta.input_granules}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"version\":\"006\",\"files\":[{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf.met\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":{\"Error\":\"FileNotFound\",\"Cause\":\"{\\\"errorMessage\\\":\\\"Source file not found s3://cumulus-test-sandbox-internal/non-existent-path/non-existent-file\\\",\\\"errorType\\\":\\\"FileNotFound\\\",\\\"stackTrace\\\":[\\\"S3Granule.sync (/var/task/index.js:142314:13)\\\",\\\"<anonymous>\\\",\\\"process._tickDomainCallback (internal/process/next_tick.js:228:7)\\\"]}\"}}"},{"timestamp":"2018-11-13T15:43:41.568Z","type":"LambdaFunctionScheduled","id":24,"previousEventId":23,"resource":"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b","input":"{\"cumulus_meta\":{\"message_source\":\"sfn\",\"system_bucket\":\"cumulus-test-sandbox-internal\",\"state_machine\":\"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf\",\"execution_name\":\"c33e4091-e90d-449c-93f5-c4462b6e4e87\",\"workflow_start_time\":1542123794842},\"meta\":{\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{},\"stack\":\"test-source-integration\",\"buckets\":{\"internal\":{\"name\":\"cumulus-test-sandbox-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"cumulus-test-sandbox-private\",\"type\":\"private\"},\"protected\":{\"name\":\"cumulus-test-sandbox-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-source-integration-public\",\"type\":\"public\"},\"protected-2\":{\"name\":\"cumulus-test-sandbox-protected-2\",\"type\":\"protected\"},\"shared\":{\"name\":\"cumulus-data-shared\",\"type\":\"shared\"},\"shared-2\":{\"name\":\"rvl-internal\",\"type\":\"shared\"}},\"cmr\":{\"username\":\"cmruser\",\"provider\":\"CUMULUS\",\"clientId\":\"CUMULUS\",\"password\":\"GPM1Rz0DA7VIs4kUX7FBT8D9GycoPVGiJQ3LeJ8vFoNy3ZIRbQk3mrya1t5pt/Qov/Aap4lbLKfpIrU0uWGrDOBYEjhTNvQx9zXTuQSBOA7z3R+UBTU3AS3utQe2CIfPu1JaPEkTTipFcWY2lxsz7+P7jS94vtC9eD2ibDfeZg5/UORrI9NhMi0dVGFIWFmYYxdRiArF0EKRBTUkvKT6SMtv5kF24uvjcIN6p/WBwTMpL8L0InLp87ebQc21EkM/l8m86Y7J8jzdDQXItDvvu+jMXBfpmxbH3GK4+FjSXdNcnDSrSJBDO2jrKx2CQ2zC1CmfXn0VyQu29RVQQg8ISw==\"},\"distribution_endpoint\":\"https://example.com/\",\"topic_arn\":\"arn:aws:sns:us-east-1:596205514787:test-source-integration-sftrackerSns-1AXF5RE73W5UG\",\"collection\":{\"process\":\"modis\",\"granuleIdExtraction\":\"(MOD09GQ\\\\..*)(\\\\.hdf|\\\\.cmr|_ndvi\\\\.jpg)\",\"version\":\"006\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"createdAt\":1542123793936,\"name\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"duplicateHandling\":\"replace\",\"provider_path\":\"cumulus-test-data/pdrs\",\"files\":[{\"bucket\":\"protected\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\",\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}\"},{\"bucket\":\"private\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.hdf\\\\.met$\"},{\"bucket\":\"protected-2\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}\\\\.cmr\\\\.xml$\"},{\"bucket\":\"public\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg\",\"regex\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}_ndvi\\\\.jpg$\"}],\"updatedAt\":1542123793936,\"url_path\":\"{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}\",\"granuleId\":\"^MOD09GQ\\\\.A[\\\\d]{7}\\\\.[\\\\S]{6}\\\\.006\\\\.[\\\\d]{13}$\",\"sampleFileName\":\"MOD09GQ.A2017025.h21v00.006.2017034065104.hdf\"},\"provider\":{\"createdAt\":1542123793586,\"id\":\"s3_provider_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"host\":\"cumulus-test-sandbox-internal\",\"globalConnectionLimit\":10,\"updatedAt\":1542123793586,\"protocol\":\"s3\"},\"templates\":{\"TestLambdaVersionWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/TestLambdaVersionWorkflow.json\",\"WaitForDeployWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/WaitForDeployWorkflow.json\",\"HelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldWorkflow.json\",\"EcsHelloWorldWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/EcsHelloWorldWorkflow.json\",\"KinesisTriggerTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/KinesisTriggerTest.json\",\"RetryPassWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryPassWorkflow.json\",\"HelloWorldFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/HelloWorldFailWorkflow.json\",\"RetryFailWorkflow\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/RetryFailWorkflow.json\",\"SyncGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranule.json\",\"IngestAndPublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestAndPublishGranule.json\",\"IngestGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranule.json\",\"PublishGranule\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/PublishGranule.json\",\"ParsePdr\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/ParsePdr.json\",\"DiscoverGranules\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverGranules.json\",\"DiscoverAndQueuePdrs\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/DiscoverAndQueuePdrs.json\",\"IngestGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/IngestGranuleCatchDuplicateErrorTest.json\",\"SyncGranuleCatchDuplicateErrorTest\":\"s3://cumulus-test-sandbox-internal/test-source-integration/workflows/SyncGranuleCatchDuplicateErrorTest.json\"},\"queues\":{\"triggerLambdaFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-triggerLambdaFailure\",\"KinesisOutboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisOutboundEventLoggerDeadLetterQueue\",\"EmsReportDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-EmsReportDeadLetterQueue\",\"startSF\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-startSF\",\"dbIndexerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-dbIndexerDeadLetterQueue\",\"jobsDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-jobsDeadLetterQueue\",\"sns2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-sns2elasticsearchDeadLetterQueue\",\"KinesisInboundEventLoggerDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-KinesisInboundEventLoggerDeadLetterQueue\",\"kinesisFailure\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-kinesisFailure\",\"log2elasticsearchDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-log2elasticsearchDeadLetterQueue\",\"ScheduleSFDeadLetterQueue\":\"https://sqs.us-east-1.amazonaws.com/596205514787/test-source-integration-ScheduleSFDeadLetterQueue\"}},\"workflow_config\":{\"Report\":{\"cumulus_message\":{\"input\":\"{{$}}\"}},\"VpcOrNot\":{},\"SyncGranule\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"SyncGranuleNoVpc\":{\"buckets\":\"{{$.meta.buckets}}\",\"provider\":\"{{$.meta.provider}}\",\"collection\":\"{{$.meta.collection}}\",\"stack\":\"{{$.meta.stack}}\",\"downloadBucket\":\"{{$.cumulus_meta.system_bucket}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\",\"pdr\":\"{{$.meta.pdr}}\",\"cumulus_message\":{\"outputs\":[{\"source\":\"{{$.granules}}\",\"destination\":\"{{$.meta.input_granules}}\"},{\"source\":\"{{$}}\",\"destination\":\"{{$.payload}}\"},{\"source\":\"{{$.process}}\",\"destination\":\"{{$.cumulus_meta.process}}\"}]}},\"ChooseProcess\":{},\"ProcessingStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"collection\":\"{{$.meta.collection}}\"},\"MoveGranuleStep\":{\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"buckets\":\"{{$.meta.buckets}}\",\"granuleIdExtraction\":\"{{$.meta.collection.granuleIdExtraction}}\",\"distribution_endpoint\":\"{{$.meta.distribution_endpoint}}\",\"input_granules\":\"{{$.meta.input_granules}}\",\"collection\":\"{{$.meta.collection}}\",\"duplicateHandling\":\"{{$.meta.collection.duplicateHandling}}\"},\"StopStatus\":{\"sfnEnd\":true,\"stack\":\"{{$.meta.stack}}\",\"bucket\":\"{{$.meta.buckets.internal.name}}\",\"stateMachine\":\"{{$.cumulus_meta.state_machine}}\",\"executionName\":\"{{$.cumulus_meta.execution_name}}\",\"cumulus_message\":{\"input\":\"{{$}}\"}},\"WorkflowFailed\":{}},\"payload\":{\"granules\":[{\"granuleId\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539\",\"dataType\":\"MOD09GQ_test-test-source-integration-IngestGranuleFailure-1542123793369\",\"version\":\"006\",\"files\":[{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":17865615,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539.hdf.met\"},{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"fileSize\":44118,\"name\":\"MOD09GQ.A7861193.EIZqJk.006.0675593449539_ndvi.jpg\"},{\"path\":\"non-existent-path\",\"name\":\"non-existent-file\"}]}],\"pdr\":{\"path\":\"test-source-integration-IngestGranuleFailure-1542123793369-test-data/files\",\"size\":596,\"name\":\"MOD09GQ_1granule_v3.PDR\",\"time\":1520873050000}},\"exception\":{\"Error\":\"FileNotFound\",\"Cause\":\"{\\\"errorMessage\\\":\\\"Source file not found s3://cumulus-test-sandbox-internal/non-existent-path/non-existent-file\\\",\\\"errorType\\\":\\\"FileNotFound\\\",\\\"stackTrace\\\":[\\\"S3Granule.sync (/var/task/index.js:142314:13)\\\",\\\"<anonymous>\\\",\\\"process._tickDomainCallback (internal/process/next_tick.js:228:7)\\\"]}\"}}"},{"timestamp":"2018-11-13T15:43:41.585Z","type":"LambdaFunctionStarted","id":25,"previousEventId":24},{"timestamp":"2018-11-13T15:43:43.319Z","type":"LambdaFunctionFailed","id":26,"previousEventId":25,"error":"FileNotFound","cause":"{\"errorMessage\":\"{\\\"errorMessage\\\":\\\"Source file not found s3://cumulus-test-sandbox-internal/non-existent-path/non-existent-file\\\",\\\"errorType\\\":\\\"FileNotFound\\\",\\\"stackTrace\\\":[\\\"S3Granule.sync (/var/task/index.js:142314:13)\\\",\\\"<anonymous>\\\",\\\"process._tickDomainCallback (internal/process/next_tick.js:228:7)\\\"]}\",\"errorType\":\"FileNotFound\",\"stackTrace\":[\"buildError (/var/task/index.js:14728:10)\",\"makeLambdaFunctionFail (/var/task/index.js:14743:20)\",\"publishSnsMessage (/var/task/index.js:14798:5)\",\"<anonymous>\",\"process._tickDomainCallback (internal/process/next_tick.js:228:7)\"]}"},{"timestamp":"2018-11-13T15:43:43.319Z","type":"TaskStateExited","id":27,"previousEventId":26,"name":"StopStatus","output":"{\"Error\":\"FileNotFound\",\"Cause\":\"{\\\"errorMessage\\\":\\\"{\\\\\\\"errorMessage\\\\\\\":\\\\\\\"Source file not found s3://cumulus-test-sandbox-internal/non-existent-path/non-existent-file\\\\\\\",\\\\\\\"errorType\\\\\\\":\\\\\\\"FileNotFound\\\\\\\",\\\\\\\"stackTrace\\\\\\\":[\\\\\\\"S3Granule.sync (/var/task/index.js:142314:13)\\\\\\\",\\\\\\\"<anonymous>\\\\\\\",\\\\\\\"process._tickDomainCallback (internal/process/next_tick.js:228:7)\\\\\\\"]}\\\",\\\"errorType\\\":\\\"FileNotFound\\\",\\\"stackTrace\\\":[\\\"buildError (/var/task/index.js:14728:10)\\\",\\\"makeLambdaFunctionFail (/var/task/index.js:14743:20)\\\",\\\"publishSnsMessage (/var/task/index.js:14798:5)\\\",\\\"<anonymous>\\\",\\\"process._tickDomainCallback (internal/process/next_tick.js:228:7)\\\"]}\"}"},{"timestamp":"2018-11-13T15:43:43.330Z","type":"FailStateEntered","id":28,"previousEventId":27,"name":"WorkflowFailed","input":"{\"Error\":\"FileNotFound\",\"Cause\":\"{\\\"errorMessage\\\":\\\"{\\\\\\\"errorMessage\\\\\\\":\\\\\\\"Source file not found s3://cumulus-test-sandbox-internal/non-existent-path/non-existent-file\\\\\\\",\\\\\\\"errorType\\\\\\\":\\\\\\\"FileNotFound\\\\\\\",\\\\\\\"stackTrace\\\\\\\":[\\\\\\\"S3Granule.sync (/var/task/index.js:142314:13)\\\\\\\",\\\\\\\"<anonymous>\\\\\\\",\\\\\\\"process._tickDomainCallback (internal/process/next_tick.js:228:7)\\\\\\\"]}\\\",\\\"errorType\\\":\\\"FileNotFound\\\",\\\"stackTrace\\\":[\\\"buildError (/var/task/index.js:14728:10)\\\",\\\"makeLambdaFunctionFail (/var/task/index.js:14743:20)\\\",\\\"publishSnsMessage (/var/task/index.js:14798:5)\\\",\\\"<anonymous>\\\",\\\"process._tickDomainCallback (internal/process/next_tick.js:228:7)\\\"]}\"}"},{"timestamp":"2018-11-13T15:43:43.330Z","type":"ExecutionFailed","id":29,"previousEventId":28,"cause":"Workflow failed"}]},"stateMachine":{"stateMachineArn":"arn:aws:states:us-east-1:596205514787:stateMachine:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf","name":"TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf","status":"ACTIVE","definition":"{\"Comment\":\"Ingest Granule\",\"StartAt\":\"Report\",\"States\":{\"Report\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\",\"ResultPath\":null,\"Next\":\"VpcOrNot\"},\"VpcOrNot\":{\"Type\":\"Choice\",\"Choices\":[{\"Variable\":\"$.meta.provider.protocol\",\"StringEquals\":\"ftp\",\"Next\":\"SyncGranule\"},{\"Variable\":\"$.meta.provider.protocol\",\"StringEquals\":\"http\",\"Next\":\"SyncGranule\"},{\"Variable\":\"$.meta.provider.protocol\",\"StringEquals\":\"https\",\"Next\":\"SyncGranule\"},{\"Variable\":\"$.meta.provider.protocol\",\"StringEquals\":\"s3\",\"Next\":\"SyncGranuleNoVpc\"}]},\"SyncGranule\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SyncGranule:SyncGranule-d78106fd67c6187a0a4f442a914a497e3977daaa\",\"Retry\":[{\"ErrorEquals\":[\"States.ALL\"],\"IntervalSeconds\":2,\"MaxAttempts\":3}],\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.exception\",\"Next\":\"StopStatus\"}],\"Next\":\"ChooseProcess\"},\"SyncGranuleNoVpc\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SyncGranuleNoVpc:SyncGranuleNoVpc-d78106fd67c6187a0a4f442a914a497e3977daaa\",\"Retry\":[{\"ErrorEquals\":[\"States.ALL\"],\"IntervalSeconds\":2,\"MaxAttempts\":3}],\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.exception\",\"Next\":\"StopStatus\"}],\"Next\":\"ChooseProcess\"},\"ChooseProcess\":{\"Type\":\"Choice\",\"Choices\":[{\"Variable\":\"$.cumulus_meta.process\",\"StringEquals\":\"modis\",\"Next\":\"ProcessingStep\"}],\"Default\":\"StopStatus\"},\"ProcessingStep\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-FakeProcessing:FakeProcessing-f2ecbff01274ec5515d7435c7a5088d273813984\",\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.exception\",\"Next\":\"StopStatus\"}],\"Retry\":[{\"ErrorEquals\":[\"States.ALL\"],\"IntervalSeconds\":2,\"MaxAttempts\":3}],\"Next\":\"MoveGranuleStep\"},\"MoveGranuleStep\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-MoveGranules:MoveGranules-3529e5f66f3b6517f2c90b11dea6a68e25a524fb\",\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.exception\",\"Next\":\"StopStatus\"}],\"Next\":\"StopStatus\"},\"StopStatus\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:lambda:us-east-1:596205514787:function:test-source-integration-SfSnsReport:SfSnsReport-852e08f1fd5e168685bed68ab05230471247aa2b\",\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"Next\":\"WorkflowFailed\"}],\"End\":true},\"WorkflowFailed\":{\"Type\":\"Fail\",\"Cause\":\"Workflow failed\"}}}\n","roleArn":"arn:aws:iam::596205514787:role/test-source-integration-steprole","creationDate":"2018-11-08T17:28:37.773Z"}}